
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>My Octopress Blog</title>
  <meta name="author" content="Your Name">

  
  <meta name="description" content="Introduction: Crystal is a programming language that resembles Ruby but compiles to native code and tries to be much more efficient, at the cost of &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://yoursite.com">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="My Octopress Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

<!-- Social media content metadata -->

  



  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">My Octopress Blog</a></h1>
  
    <h2>A blogging framework for hackers.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:yoursite.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/about-me">About Me</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- codeforfoods-footer -->
<ins class="adsbygoogle"
     style="display:inline-block;width:728px;height:90px"
     data-ad-client="ca-pub-4773765193389725"
     data-ad-slot="7439101090"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/11/27/crystal-getting-started/">Crystal: Getting Started</a></h1>
    
    
  



  



    
      <p class="meta">
        




<time class='entry-date' datetime='2014-11-27T16:43:51+07:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>27</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>4:43 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Introduction:</h3>

<p>Crystal is a programming language that resembles Ruby but compiles to native code and tries to be much more efficient, at the cost of disallowing certain dynamic aspects of Ruby.</p>

<h3>Installation</h3>

<h4>1. On Debian and Ubuntu</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>curl http://dist.crystal-lang.org/apt/setup.sh | sudo bash
</span><span class='line'>apt-key adv --keyserver keys.gnupg.net --recv-keys 09617FD37CC06B54
</span><span class='line'>echo "deb http://dist.crystal-lang.org/apt crystal main" &gt; /etc/apt/sources.list.d/crystal.list
</span><span class='line'>sudo apt-get install crystal</span></code></pre></td></tr></table></div></figure>


<h4>2. On Mac OSX using Homebrew</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>brew tap manastech/crystal
</span><span class='line'>brew install crystal</span></code></pre></td></tr></table></div></figure>


<h3>Hello World</h3>

<p>This is the simplest way to write the Hello World program in Crystal:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>puts "Hello World"</span></code></pre></td></tr></table></div></figure>


<p>First create a file hello.cr containing your code. Then type in the console:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>chmod +x hello.cr
</span><span class='line'>crystal hello.cr</span></code></pre></td></tr></table></div></figure>


<p>That&rsquo;s all! Hope you guys love it :D
I will have anather post about syntax and semantics :)
Thanks</p>
</div>
  
  


    </article>
  
  
    <article>
      
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- codeforfoods-footer -->
<ins class="adsbygoogle"
     style="display:inline-block;width:728px;height:90px"
     data-ad-client="ca-pub-4773765193389725"
     data-ad-slot="7439101090"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/11/19/rails-get-youtube-download-link/">[Rails] Get Youtube Download Link</a></h1>
    
    
  



  


<span class="byline author vcard"> * source: <span class="fn">



	<a href="https://github.com/rb2k/viddl-rb">viddl-rb</a>
	

</span></span>
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-11-19T08:39:56+07:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>19</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>8:39 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>gem install viddl-rb
</span></code></pre></td></tr></table></div></figure>


<h3>Usage:</h3>

<p>Download a video: viddl-rb <a href="http://www.youtube.com/watch?v=QH2-TGUlwu4">http://www.youtube.com/watch?v=QH2-TGUlwu4</a>
<br>
Viddl-rb supports the following command line options:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>-e, --extract-audio              Extract the audio track of the download to a separate file
</span><span class='line'>-a, --abort-on-failure           Abort if one of the videos in a list fails to download
</span><span class='line'>-u, --url-only                   Just display the download url without downloading the file.
</span><span class='line'>-t, --title-only                 Just display the title without downloading the file.
</span><span class='line'>-f, --filter REGEX               Filters a video playlist according to the regex (Youtube only right now)
</span><span class='line'>-s, --save-dir DIRECTORY         Specifies the directory where videos should be saved
</span><span class='line'>-d, --downloader TOOL            Specifies the tool to download with. Supports 'wget', 'curl', 'aria2c' and 'net-http'
</span><span class='line'>-q, --quality QUALITY            Specifies the video format and resolution in the following way: width:height:format (e.g. 1280:720:mp4)
</span><span class='line'>                                 The width, height and format may be omitted with a *.
</span><span class='line'>                                 For example, to match any quality with a height of 720 pixels in any format specify --quality *:720:*
</span><span class='line'>-h, --help                       Displays the help screen</span></code></pre></td></tr></table></div></figure>


<h3>Library Usage:</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>require 'viddl-rb'
</span><span class='line'>
</span><span class='line'>download_urls = ViddlRb.get_urls("http://www.youtube.com/watch?v=QH2-TGUlwu4")
</span><span class='line'>download_urls.first     # =&gt; "http://o-o.preferred.arn06s04.v3.lscac ..."</span></code></pre></td></tr></table></div></figure>


<p>The ViddlRb module has the following module public methods:</p>

<h4>get_urls_names(url)</h4>

<p> &ndash; Returns an array of one or more hashes that has the keys :url which points to the download url and :name which points to the name (which is a filename safe version of the video title with a file extension). Returns nil if the url is not recognized by any plugins.</p>

<h4>get_urls_exts(url)</h4>

<p>&ndash; Same as get_urls_names but with just the file extension (for example &ldquo;.mp4&rdquo;) instead of the full filename, and the :name key is replaced with :ext. Returns nil if the url is not recognized by any plugins.</p>

<h4>get_urls(url)</h4>

<p>&ndash; Returns an array of download urls for the specified video url. Returns nil if the url is not recognized by any plugins.</p>

<h4>get_names(url)</h4>

<p>&ndash; Returns an array of filenames for the specified video url. Returns nil if the url is not recognized by any plugins.</p>

<h4>io=(io_object)</h4>

<p>&ndash; By default all plugin output to stdout will be suppressed when the library is used. If you are interested in the output of a plugin, you can set an IO object that will receive all plugin output using this method.</p>

<h3>Requirements:</h3>

<blockquote><ul>
<li>curl/wget/aria2c or the progress bar gem</li>
<li>Nokogiri</li>
<li>ffmpeg if you want to extract audio tracks from the videos</li>
</ul>
</blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- codeforfoods-footer -->
<ins class="adsbygoogle"
     style="display:inline-block;width:728px;height:90px"
     data-ad-client="ca-pub-4773765193389725"
     data-ad-slot="7439101090"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/11/18/let-flood-test-your-site-with-flood-dot-io/">Let Flood Test Your Site With Flood.io</a></h1>
    
    
  



  


<span class="byline author vcard"> * source: <span class="fn">



	<a href="https://flood.io/help/floods/getting_started_using_jmeter">flood.io</a>
	

</span></span>
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-11-18T23:45:08+07:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>18</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>11:45 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Flood IO is a cloud based load testing platform for <a href="https://flood.io/help/floods/jmeter.apache.org">JMeter</a> and <a href="https://flood.io/help/floods/gatling-tool.org">Gatling</a> that lets you scale out your tests across the globe using our on demand or your own hosted AWS infrastructure. In this article we introduce you to JMeter and how to run your first Flood test.</p>

<p>In this article, I&rsquo;d like to use <code>JMeter</code> as testing scripts</p>

<h3>Getting JMeter</h3>

<p>JMeter can be downloaded <a href="http://jmeter.apache.org/download_jmeter.cgi">here</a> and typically you can start JMeter using the <code>jmeter.cmd</code> or <code>jmeter.sh</code> scripts located in the downloaded archive <code>bin</code> directory.</p>

<p><img src="https://s3.amazonaws.com/flood-io-support/jmeter-example.jmx_UserstimkoopmansGitfloodflood-sitepublicjmeter-example.jmx_-_Apache_JMeter_2.11_r1554548_2014-10-06_17-37-40.jpg"></p>

<h3>Creating a Test Plan</h3>

<p>Once you have created a <a href="https://flood.io/jmeter-example.jmx">basic test plan</a> and saved it locally as a <code>.jmx</code> file, you can upload this to Flood IO to create your first Flood test.</p>

<h3>Creating a Flood Test</h3>

<p>After you login to Flood IO you can click the &ldquo;+&rdquo; icon or from your <a href="https://flood.io/dashboard/floods">Floods dashboard</a> you can click the &ldquo;Create Flood&rdquo; button to create a new Flood.</p>

<p><img src="https://s3.amazonaws.com/flood-io-support/Flood_IO_2014-10-06_17-36-50.jpg"></p>

<p>In the new Flood form, add the <code>.jmx</code> test plan you created using JMeter to the Files input and select a Grid to run your Flood test on. You can optionally set the &ldquo;Name&rdquo; or &ldquo;Tags&rdquo; to help identify the test in your dashboard.</p>

<p><img src="https://s3.amazonaws.com/flood-io-support/Flood_IO_2014-10-06_17-49-17.jpg"></p>

<h3>Start your Flood Test</h3>

<p>Read about more [advanced settings] or simply click the &ldquo;Start Flood&rdquo; button to launch your test.</p>

<p><img src="https://s3.amazonaws.com/flood-io-support/Flood_IO_2014-10-06_17-53-22.jpg"></p>

<p>You will be redirected to a Flood report which will show you results in real time from the test you just executed on the chosen Grid.</p>

<h3>The results in real time</h3>

<ul>
<li>Summary about AVG Response Time, Concurence Users and Transaction Rate</li>
</ul>


<p><img src="https://lh3.googleusercontent.com/-cbQyegUkAt8/VGt77yF3o_I/AAAAAAAAADE/zIceQUvDRnY/w957-h199-no/Flood_IO.png"></p>

<ul>
<li>Summary report by chart</li>
</ul>


<p><img src="https://lh3.googleusercontent.com/-LdsF3ANppGY/VGt8J5PJa3I/AAAAAAAAADM/dN75wBnBQ7M/w958-h404-no/Flood_IO.png"></p>

<ul>
<li>Detail transaction</li>
</ul>


<p><img src="https://lh3.googleusercontent.com/-NLjHvr3TwME/VGt8m92lEoI/AAAAAAAAADc/9o8vDRsEzBE/w957-h384-no/Flood_IO.png"></p>

<ul>
<li>You can trace your http connection</li>
</ul>


<p><img src="https://lh3.googleusercontent.com/ItYy1EO4CTEt8fFFxFNKxkwdgR9uey33boD5RZ_MyA=w400-h207-p-no"></p>
</div>
  
  


    </article>
  
  
    <article>
      
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- codeforfoods-footer -->
<ins class="adsbygoogle"
     style="display:inline-block;width:728px;height:90px"
     data-ad-client="ca-pub-4773765193389725"
     data-ad-slot="7439101090"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/11/07/php-cooking/">Php-cooking</a></h1>
    
    
  



  



    
      <p class="meta">
        




<time class='entry-date' datetime='2014-11-07T11:03:51+07:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>7</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>11:03 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This article would help you to setup Chef for PHP stuff step by step</p>

<h4>Step 1 - Install required tools</h4>

<ul>
<li>Ruby</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>https://www.ruby-lang.org/en/installation/</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Knife Solo</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>gem install knife-solo</span></code></pre></td></tr></table></div></figure>


<ul>
<li>librarian-chef</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>gem install librarian-chef</span></code></pre></td></tr></table></div></figure>


<h4>Step 2 - Setup</h4>

<ul>
<li><p>Create new directory for your project</p>

<pre><code>  mkdir /your-path/php-cooking
</code></pre></li>
<li><p>Move to php-cooking folder</p>

<pre><code>  cd /your-path/php-cooking
</code></pre></li>
<li><p>Initialize librarian-chef</p>

<pre><code>  librarian-chef init
</code></pre></li>
<li><p>Initialize knife solo</p>

<pre><code>  knife solo init .
</code></pre></li>
</ul>


<p>After initialazing, you should see the folder structure like below (notice that I added the <code>www</code> folder for containing the php&rsquo;s web app )</p>

<p><img src="https://lh5.googleusercontent.com/-e9FKrxVfB50/VFxCHoV-CaI/AAAAAAAAABg/aBM_nLe5EMY/s418/README_md_-__Users_congdang_my-training_codeforfoods_php-cooking_-_Atom.png"></p>

<p>Ok, now is time for adding the necessary cookbooks to <code>Cheffile</code></p>

<figure class='code'><figcaption><span>Cheffile</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1">#!/usr/bin/env ruby</span>
</span><span class='line'><span class="c1">#^syntax detection</span>
</span><span class='line'>
</span><span class='line'><span class="n">site</span> <span class="s1">&#39;https://supermarket.getchef.com/api/v1&#39;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="n">cookbook</span> <span class="s1">&#39;php&#39;</span><span class="p">,</span> <span class="s1">&#39;~&gt; 1.4.6&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="n">cookbook</span> <span class="s2">&quot;php55&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="ss">:git</span> <span class="o">=&gt;</span> <span class="s2">&quot;https://github.com/aporat/php55-cookbook&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="n">cookbook</span> <span class="s1">&#39;php-mcrypt&#39;</span><span class="p">,</span> <span class="s1">&#39;~&gt; 1.0.0&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="n">cookbook</span> <span class="s1">&#39;apache2&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;= 1.0.0&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="n">cookbook</span> <span class="s1">&#39;mysql&#39;</span><span class="p">,</span> <span class="s1">&#39;~&gt; 5.5.2&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="n">cookbook</span> <span class="s1">&#39;composer&#39;</span><span class="p">,</span> <span class="s1">&#39;~&gt; 1.0.5&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>This is including <code>php</code>, <code>apache</code>, <code>mysql</code> and <code>composer</code></p>

<p>Next we will need to install all cookbooks which be specified in <code>Cheffile</code></p>

<pre><code>    librarian-chef install
</code></pre>

<p>After installing, you should see the cookbooks folder as below</p>

<p><img src="https://lh4.googleusercontent.com/-zg-x4_s1JLw/VFxCwKlTkfI/AAAAAAAAACE/sVvPi3G5hGA/s492/README_md_-__Users_congdang_my-training_codeforfoods_php-cooking_-_Atom.png"></p>

<p>That&rsquo;s good so far, now we should setup <code>roles</code>, <code>enviroments</code> and <code>owner cookbooks</code> for install the web server and deploy your application to web server.</p>

<ul>
<li>Setup <code>dev environent</code>: create a file called <code>dev.json</code> in enviroment folder</li>
</ul>


<p><img src="https://lh4.googleusercontent.com/-zg-x4_s1JLw/VFxCwKlTkfI/AAAAAAAAACE/sVvPi3G5hGA/s492/README_md_-__Users_congdang_my-training_codeforfoods_php-cooking_-_Atom.png"></p>

<figure class='code'><figcaption><span>dev.json</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class='json'><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;dev&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="nt">&quot;default_attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class='line'>    <span class="nt">&quot;apache2&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class='line'>    <span class="nt">&quot;listen_ports&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span class='line'>      <span class="s2">&quot;80&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;443&quot;</span>
</span><span class='line'>    <span class="p">]</span>
</span><span class='line'>    <span class="p">},</span>
</span><span class='line'>  <span class="nt">&quot;php&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class='line'>      <span class="nt">&quot;ext_conf_dir&quot;</span><span class="p">:</span> <span class="s2">&quot;/etc/php5/apache2/conf.d&quot;</span>
</span><span class='line'>  <span class="p">},</span>
</span><span class='line'>    <span class="nt">&quot;myapp&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class='line'>    <span class="nt">&quot;user&quot;</span><span class="p">:</span> <span class="s2">&quot;vagrant&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;root_path&quot;</span><span class="p">:</span> <span class="s2">&quot;/vagrant&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="nt">&quot;server_name&quot;</span><span class="p">:</span> <span class="s2">&quot;phpdev.codeforfoods.net&quot;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">},</span>
</span><span class='line'>  <span class="nt">&quot;json_class&quot;</span><span class="p">:</span> <span class="s2">&quot;Chef::Environment&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="nt">&quot;chef_type&quot;</span><span class="p">:</span> <span class="s2">&quot;environment&quot;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Setup <code>myapp role</code> and <code>myapp deploy role</code>: create 2 file <code>myapp.json</code> and <code>myapp_deploy.json</code> in roles folder</li>
</ul>


<p><img src="https://lh6.googleusercontent.com/-yoM7_7UiHBY/VFxCYAUZpJI/AAAAAAAAABs/xbd3d4fabn8/s184/README_md_-__Users_congdang_my-training_codeforfoods_php-cooking_-_Atom.png"></p>

<figure class='code'><figcaption><span>myapp.json</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
</pre></td><td class='code'><pre><code class='json'><span class='line'> <span class="p">{</span>
</span><span class='line'>      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;myapp&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;The role for app servers&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;json_class&quot;</span><span class="p">:</span> <span class="s2">&quot;Chef::Role&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;default_attributes&quot;</span><span class="p">:</span> <span class="p">{},</span>
</span><span class='line'>      <span class="nt">&quot;override_attributes&quot;</span><span class="p">:</span> <span class="p">{},</span>
</span><span class='line'>      <span class="nt">&quot;chef_type&quot;</span><span class="p">:</span> <span class="s2">&quot;role&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;run_list&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span class='line'>          <span class="s2">&quot;recipe[apt]&quot;</span><span class="p">,</span>
</span><span class='line'>          <span class="s2">&quot;recipe[build-essential]&quot;</span><span class="p">,</span>
</span><span class='line'>          <span class="s2">&quot;recipe[composer]&quot;</span><span class="p">,</span>
</span><span class='line'>          <span class="s2">&quot;recipe[myapp]&quot;</span><span class="p">,</span>
</span><span class='line'>          <span class="s2">&quot;recipe[myapp::deploy]&quot;</span>
</span><span class='line'>      <span class="p">],</span>
</span><span class='line'>      <span class="nt">&quot;env_run_lists&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class='line'>          <span class="nt">&quot;dev&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span class='line'>              <span class="s2">&quot;recipe[apt]&quot;</span><span class="p">,</span>
</span><span class='line'>              <span class="s2">&quot;recipe[build-essential]&quot;</span><span class="p">,</span>
</span><span class='line'>              <span class="s2">&quot;recipe[composer]&quot;</span><span class="p">,</span>
</span><span class='line'>              <span class="s2">&quot;recipe[myapp]&quot;</span><span class="p">,</span>
</span><span class='line'>              <span class="s2">&quot;recipe[myapp::deploy]&quot;</span>
</span><span class='line'>          <span class="p">]</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>myapp_deploy.json</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='json'><span class='line'> <span class="p">{</span>
</span><span class='line'>      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;myapp_deploy&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;The role for app servers&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;json_class&quot;</span><span class="p">:</span> <span class="s2">&quot;Chef::Role&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;default_attributes&quot;</span><span class="p">:</span> <span class="p">{},</span>
</span><span class='line'>      <span class="nt">&quot;override_attributes&quot;</span><span class="p">:</span> <span class="p">{},</span>
</span><span class='line'>      <span class="nt">&quot;chef_type&quot;</span><span class="p">:</span> <span class="s2">&quot;role&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;run_list&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span class='line'>          <span class="s2">&quot;recipe[myapp::deploy]&quot;</span>
</span><span class='line'>      <span class="p">],</span>
</span><span class='line'>      <span class="nt">&quot;env_run_lists&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class='line'>          <span class="nt">&quot;dev&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span class='line'>              <span class="s2">&quot;recipe[myapp::deploy]&quot;</span>
</span><span class='line'>          <span class="p">]</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li><p>Create a owner cookbook called <code>myapp</code>, this should be store in <code>site-cookbooks</code> folder</p>

<pre><code>      knife cookbook create myapp
</code></pre></li>
</ul>


<p><img src="https://lh3.googleusercontent.com/-7wagSNwnOWI/VFxESOwCZCI/AAAAAAAAACs/Xe7vU8MlycA/s415/README_md_-__Users_congdang_my-training_codeforfoods_php-cooking_-_Atom.png"></p>

<p>Notes:</p>

<p>1) 2 recipes, one for myapp default and other for myapp deploy</p>

<figure class='code'><figcaption><span>defaut.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">include_recipe</span> <span class="s2">&quot;apache2&quot;</span>
</span><span class='line'><span class="n">include_recipe</span> <span class="s2">&quot;mysql::client&quot;</span>
</span><span class='line'><span class="n">include_recipe</span> <span class="s2">&quot;mysql::server&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="n">include_recipe</span> <span class="s2">&quot;php55&quot;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="n">include_recipe</span> <span class="s2">&quot;php::module_mysql&quot;</span>
</span><span class='line'><span class="n">include_recipe</span> <span class="s2">&quot;php::module_curl&quot;</span>
</span><span class='line'><span class="n">include_recipe</span> <span class="s2">&quot;php::module_memcache&quot;</span>
</span><span class='line'><span class="n">include_recipe</span> <span class="s2">&quot;apache2::mod_php5&quot;</span>
</span><span class='line'><span class="n">include_recipe</span> <span class="s2">&quot;apache2::mod_expires&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="n">include_recipe</span> <span class="s2">&quot;php-mcrypt&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># disble default site.</span>
</span><span class='line'><span class="n">apache_site</span> <span class="s2">&quot;default&quot;</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">enable</span> <span class="kp">false</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>deploy.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># grant permission for webroot</span>
</span><span class='line'><span class="n">directory</span> <span class="n">node</span><span class="o">[</span><span class="s2">&quot;myapp&quot;</span><span class="o">][</span><span class="s2">&quot;root_path&quot;</span><span class="o">]</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">owner</span> <span class="s2">&quot;root&quot;</span>
</span><span class='line'>  <span class="n">group</span> <span class="s2">&quot;root&quot;</span>
</span><span class='line'>  <span class="n">mode</span> <span class="s2">&quot;0755&quot;</span>
</span><span class='line'>  <span class="n">action</span> <span class="ss">:create</span>
</span><span class='line'>  <span class="n">recursive</span> <span class="kp">true</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># reading the data bag</span>
</span><span class='line'><span class="c1">#secrets = Chef::EncryptedDataBagItem.load(&quot;secrets&quot;, &quot;myapp&quot;)</span>
</span><span class='line'>
</span><span class='line'><span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">chef_environment</span> <span class="o">==</span> <span class="s2">&quot;dev&quot;</span>
</span><span class='line'>      <span class="c1"># enable kizang-api site.</span>
</span><span class='line'>      <span class="n">web_app</span> <span class="s1">&#39;myapp&#39;</span> <span class="k">do</span>
</span><span class='line'>      <span class="n">template</span> <span class="s1">&#39;site.conf.erb&#39;</span>
</span><span class='line'>      <span class="n">docroot</span> <span class="n">node</span><span class="o">[</span><span class="s1">&#39;myapp&#39;</span><span class="o">][</span><span class="s1">&#39;root_path&#39;</span><span class="o">]</span>
</span><span class='line'>      <span class="n">server_name</span> <span class="n">node</span><span class="o">[</span><span class="s1">&#39;myapp&#39;</span><span class="o">][</span><span class="s1">&#39;server_name&#39;</span><span class="o">]</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'><span class="k">else</span>
</span><span class='line'>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>2) the Apache configuration template file</p>

<figure class='code'><figcaption><span>site.conf.erb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">&lt;</span><span class="no">VirtualHost</span> <span class="o">*</span><span class="p">:</span><span class="mi">80</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="no">ServerName</span> <span class="o">&lt;</span><span class="sx">%= @params[:server_name] %&gt;</span>
</span><span class='line'><span class="sx"> DocumentRoot &lt;%=</span> <span class="vi">@params</span><span class="o">[</span><span class="ss">:docroot</span><span class="o">]</span> <span class="sx">%&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sx"> &lt;Directory &lt;%= @params[:docroot] %&gt;</span><span class="o">&gt;</span>
</span><span class='line'>      <span class="no">Options</span> <span class="no">FollowSymLinks</span>
</span><span class='line'>      <span class="no">AllowOverride</span> <span class="no">All</span>
</span><span class='line'>
</span><span class='line'>      <span class="o">&lt;</span><span class="sx">% if </span><span class="n">node</span><span class="o">[</span><span class="s1">&#39;apache&#39;</span><span class="o">][</span><span class="s1">&#39;version&#39;</span><span class="o">]</span> <span class="o">==</span> <span class="s1">&#39;2.4&#39;</span> <span class="o">-</span><span class="sx">%&gt;</span>
</span><span class='line'><span class="sx">             Require all granted</span>
</span><span class='line'><span class="sx">         &lt;% elsif node[&#39;apache&#39;][&#39;version&#39;] == &#39;2.2&#39; -%&gt;</span>
</span><span class='line'>          <span class="no">Order</span> <span class="n">allow</span><span class="p">,</span><span class="n">deny</span>
</span><span class='line'>          <span class="no">Allow</span> <span class="n">from</span> <span class="n">all</span>
</span><span class='line'>          <span class="o">&lt;</span><span class="sx">% end </span><span class="o">-</span><span class="sx">%&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sx">     RewriteEngine On</span>
</span><span class='line'><span class="sx">     RewriteBase /</span>
</span><span class='line'><span class="sx">     RewriteRule ^index\.php$ - [L]</span>
</span><span class='line'><span class="sx">     RewriteCond %{REQUEST_FILENAME} !-f</span>
</span><span class='line'><span class="sx">     RewriteCond %{REQUEST_FILENAME} !-d</span>
</span><span class='line'><span class="sx">     RewriteRule . /index.php [L]</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="sx"> &lt;/Directory&gt;</span>
</span><span class='line'>
</span><span class='line'>  <span class="o">&lt;</span><span class="no">Directory</span> <span class="sr">/&gt;</span>
</span><span class='line'><span class="sr">     Options FollowSymLinks</span>
</span><span class='line'><span class="sr">     AllowOverride None</span>
</span><span class='line'><span class="sr"> &lt;/</span><span class="no">Directory</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="no">ErrorLog</span> <span class="err">$</span><span class="p">{</span><span class="no">APACHE_LOG_DIR</span><span class="p">}</span><span class="o">/</span><span class="n">myapp</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">log</span>
</span><span class='line'>  <span class="c1"># Possible values include: debug, info, notice, warn, error, crit,</span>
</span><span class='line'>  <span class="c1"># alert, emerg.</span>
</span><span class='line'>  <span class="no">LogLevel</span> <span class="nb">warn</span>
</span><span class='line'>  <span class="no">CustomLog</span> <span class="err">$</span><span class="p">{</span><span class="no">APACHE_LOG_DIR</span><span class="p">}</span><span class="o">/</span><span class="n">myapp</span><span class="o">.</span><span class="n">access</span><span class="o">.</span><span class="n">log</span> <span class="n">combined</span>
</span><span class='line'><span class="o">&lt;</span><span class="sr">/VirtualHost&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h4>Step 3 - Setup vagrant for create development environment</h4>

<p>Ok! Almost Chef setting up is done, now you should create a <code>Vagrantfile</code> and use chef-solo as provision for install development server</p>

<figure class='code'><figcaption><span>Vagrantfile</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'> <span class="c1"># -*- mode: ruby -*-</span>
</span><span class='line'>  <span class="c1"># vi: set ft=ruby :</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1"># Vagrantfile API/syntax version. Don&#39;t touch unless you know what you&#39;re doing!</span>
</span><span class='line'>  <span class="no">VAGRANTFILE_API_VERSION</span> <span class="o">=</span> <span class="s2">&quot;2&quot;</span>
</span><span class='line'>  <span class="no">CHEF_PATH</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span>
</span><span class='line'>  <span class="no">SYNC_PATH</span> <span class="o">=</span> <span class="s2">&quot;./www&quot;</span>
</span><span class='line'>  <span class="no">Vagrant</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="no">VAGRANTFILE_API_VERSION</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">config</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">box</span> <span class="o">=</span> <span class="s2">&quot;ubuntu14.04&quot;</span>
</span><span class='line'>      <span class="n">config</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">box_url</span> <span class="o">=</span> <span class="s2">&quot;https://oss-binaries.phusionpassenger.com/vagrant/boxes/latest/ubuntu-14.04-amd64-vbox.box&quot;</span>
</span><span class='line'>      <span class="n">config</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">network</span> <span class="s2">&quot;private_network&quot;</span><span class="p">,</span> <span class="ss">ip</span><span class="p">:</span> <span class="s2">&quot;192.168.34.100&quot;</span>
</span><span class='line'>      <span class="n">config</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">hostname</span> <span class="o">=</span> <span class="s2">&quot;devphp.congdang.com&quot;</span>
</span><span class='line'>      <span class="n">config</span><span class="o">.</span><span class="n">ssh</span><span class="o">.</span><span class="n">forward_agent</span> <span class="o">=</span> <span class="kp">true</span>
</span><span class='line'>      <span class="n">config</span><span class="o">.</span><span class="n">ssh</span><span class="o">.</span><span class="n">forward_x11</span>   <span class="o">=</span> <span class="kp">true</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">config</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">provider</span> <span class="s2">&quot;virtualbox&quot;</span> <span class="k">do</span> <span class="o">|</span><span class="n">vb</span><span class="o">|</span>
</span><span class='line'>          <span class="n">vb</span><span class="o">.</span><span class="n">customize</span><span class="p">(</span><span class="o">[</span><span class="s2">&quot;modifyvm&quot;</span><span class="p">,</span> <span class="ss">:id</span><span class="p">,</span> <span class="s2">&quot;--natdnshostresolver1&quot;</span><span class="p">,</span> <span class="s2">&quot;off&quot;</span>  <span class="o">]</span><span class="p">)</span>
</span><span class='line'>          <span class="n">vb</span><span class="o">.</span><span class="n">customize</span><span class="p">(</span><span class="o">[</span><span class="s2">&quot;modifyvm&quot;</span><span class="p">,</span> <span class="ss">:id</span><span class="p">,</span> <span class="s2">&quot;--natdnsproxy1&quot;</span><span class="p">,</span>        <span class="s2">&quot;off&quot;</span>  <span class="o">]</span><span class="p">)</span>
</span><span class='line'>          <span class="n">vb</span><span class="o">.</span><span class="n">customize</span><span class="p">(</span><span class="o">[</span><span class="s2">&quot;modifyvm&quot;</span><span class="p">,</span> <span class="ss">:id</span><span class="p">,</span> <span class="s2">&quot;--memory&quot;</span><span class="p">,</span>              <span class="s2">&quot;1024&quot;</span> <span class="o">]</span><span class="p">)</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>      <span class="n">config</span><span class="o">.</span><span class="n">omnibus</span><span class="o">.</span><span class="n">chef_version</span> <span class="o">=</span> <span class="s1">&#39;11.16.0&#39;</span>
</span><span class='line'>      <span class="n">config</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">provision</span> <span class="ss">:chef_solo</span> <span class="k">do</span> <span class="o">|</span><span class="n">chef</span><span class="o">|</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>      <span class="n">chef</span><span class="o">.</span><span class="n">cookbooks_path</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="no">CHEF_PATH</span><span class="si">}</span><span class="s2">/cookbooks&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="no">CHEF_PATH</span><span class="si">}</span><span class="s2">/site-cookbooks&quot;</span>
</span><span class='line'>      <span class="n">chef</span><span class="o">.</span><span class="n">environments_path</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="no">CHEF_PATH</span><span class="si">}</span><span class="s2">/environments&quot;</span>
</span><span class='line'>      <span class="n">chef</span><span class="o">.</span><span class="n">environment</span> <span class="o">=</span> <span class="s2">&quot;dev&quot;</span>
</span><span class='line'>      <span class="n">chef</span><span class="o">.</span><span class="n">roles_path</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="no">CHEF_PATH</span><span class="si">}</span><span class="s2">/roles&quot;</span>
</span><span class='line'>      <span class="n">chef</span><span class="o">.</span><span class="n">add_role</span><span class="p">(</span><span class="s1">&#39;myapp&#39;</span><span class="p">)</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">config</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">synced_folder</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">#{</span><span class="no">SYNC_PATH</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;/vagrant&quot;</span><span class="p">,</span>
</span><span class='line'>                                                      <span class="ss">:owner</span> <span class="o">=&gt;</span> <span class="s2">&quot;vagrant&quot;</span><span class="p">,</span>
</span><span class='line'>                                                      <span class="ss">:group</span> <span class="o">=&gt;</span> <span class="s2">&quot;vagrant&quot;</span><span class="p">,</span>
</span><span class='line'>                                                      <span class="ss">:mount_options</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="s1">&#39;dmode=777&#39;</span><span class="p">,</span><span class="s1">&#39;fmode=777&#39;</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'>  <span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Notice that, I used <code>www</code> vagrant&rsquo;s sync folder. That means you should store your web application in <code>www</code> folder. In this article I just created a simple php file in that folder</p>

<figure class='code'><figcaption><span>index.php</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'>  <span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'>      <span class="k">echo</span> <span class="s2">&quot;Hello PHP world!!!!&quot;</span><span class="p">;</span>
</span><span class='line'>  <span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p>Finally you need to run vagrant and check the site on the browser</p>

<pre><code>        vagrant up
</code></pre>

<p>Once vagrant upping is done, you can check your application on browser</p>

<pre><code>        http://192.168.34.100
</code></pre>

<h4>Conclusion</h4>

<p>You can pull all code from my github</p>

<figure class='code'><figcaption><span>repository on gihub</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>https://github.com/code-for-food/php-cooking.git <span class="c"># fork from github</span>
</span></code></pre></td></tr></table></div></figure>


<p>In this Chef, I&rsquo;ve setup <code>mysql</code> as well but I just only used <code>php</code> and <code>apache</code>. You can add more code in <code>defaul.rb</code> recipe for using <code>mysql</code> for your project. If you have any question, you can drop an email to me <a href="mailto:code.for.food.14@gmail.com">codeforfoods</a>.</p>

<p>Thanks for your reading!!!</p>
</div>
  
  


    </article>
  
  
    <article>
      
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- codeforfoods-footer -->
<ins class="adsbygoogle"
     style="display:inline-block;width:728px;height:90px"
     data-ad-client="ca-pub-4773765193389725"
     data-ad-slot="7439101090"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/11/06/how-to-switch-careers/">How to Switch Careers</a></h1>
    
    
  



  


<span class="byline author vcard"> * source: <span class="fn">



	<a href="http://www.wikihow.com/Switch-Careers">wikihow</a>
	

</span></span>
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-11-06T11:12:00+07:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>6</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>11:12 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Making a big career change is never easy, especially if you&rsquo;ve got kids to support, a mortgage to pay, and a car to worry about. People will tell you you&rsquo;ve got it great where you are and that the grass is always greener on the other side. What they don&rsquo;t know is what&rsquo;s best for you. Switching careers doesn&rsquo;t have to be the daunting process everyone makes it out to be if you are organized, practical, and thorough with your research.</p>

<h4>Method 1 of 5: What Would You Rather Be Doing?</h4>

<p><img src="http://www.wikihow.com/images/2/25/Switch-Careers-Step-1.jpg"></p>

<p><strong>1. Tackle the golden question</strong></p>

<p>If you had all the money in the world, what would you be doing with yourself? Don&rsquo;t hold back. This is brainstorming time. Make a list of all the things you&rsquo;d rather be doing with your time. Your first few answers will probably be something like: Take a tropical vacation, spend more time with the kids, etc. But push your thinking beyond that. Ask yourself if you are content with stringent working hours, accounting to higher authorities, etc. If this is what you don&rsquo;t like, then strive for a self-actualizing job that gives you exactly what you desire or hope to achieve.</p>

<p><strong>2. Consider careers that interest you.</strong></p>

<p>You might have studied accounting at college for the sake of job security and financial certainty. But all the time, perhaps you really wanted to be a park ranger or a freelance troubleshooter. Think back to what once motivated you when you were youngeryou will often find the kernel of the things that still motivate and thrill you there.</p>

<ul>
<li>Write a list of the things you loved to do once and the career ideas you had.</li>
<li>Add down the ideas for preferred careers that you actually have now. Don&rsquo;t hold back for such reasons as &ldquo;lack training&rdquo; or &ldquo;no resources to risk it&rdquo;. At this stage, write down the career paths you&rsquo;d really rather be following.</li>
</ul>


<h4>Method 2 of 5: Working Out What Else You Can Do</h4>

<p><img src="http://www.wikihow.com/images/3/36/Switch-Careers-Step-2.jpg"></p>

<p><strong>1. Evaluate your skills and talents.</strong>
Ask yourself: What am I good at? What do I most enjoy doing? Write down every skill you&rsquo;re capable of. Don&rsquo;t be shy. Does your current job give you satisfaction and utilize all your potential?</p>

<p><img src="http://www.wikihow.com/images/a/ac/Switch-Careers-Step-3.jpg"></p>

<p><strong>2. Identify transferable skills.</strong>
After having listed all known skills and talents, identify what skills will best transfer over into the new line of work you&rsquo;re hoping to change to. The longer the list, the easier the transition.</p>

<ul>
<li>If you have only a few or no transferable skills, do not be discouraged. New skills can be easily learned, while old skills can act as the foundation blocks.</li>
<li>Other life experiences can also make this transition easyremain conscious of the basic life skills that have already been acquired and avoid discounting them. Give yourself a boost and some credit.</li>
<li>Pursue your passion to find happiness. Is there a passion outside of your work that has brought you a range of skills that you might be able to use to bolster your transition case?</li>
</ul>


<p><img src="http://www.wikihow.com/images/e/eb/Switch-Careers-Step-4.jpg"></p>

<p><strong>3. Think of jobs that allow you to do what you really want to do, at least in some form.</strong>
 In what ways will you be able to apply your skills and talents every day? Be creative and open-minded. Focus on what your inner feelings guide you to do.</p>

<p><img src="http://www.wikihow.com/images/e/e2/Switch-Careers-Step-7.jpg"></p>

<p><strong>4. Make a list of everything you want in your new job.</strong> make one of everything you don&rsquo;t want, such as revisiting tedious aspects of your current job. Having this dual list of preferences to guide you will make it easier to check off the jobs that fit and delete the ones that don&rsquo;t; the list helps you to be more discerning and less ready to jump into the same situation.</p>

<ul>
<li><p>Be prepared to work gradually towards your needs and wants; steady accomplishments will make the career transition less risky and more likely to work out for you.</p></li>
<li><p>The list helps you to listen to your gut reactions and not ignore warnings that something isn&rsquo;t a good match for you. You are changing careers precisely because you want to remove yourself from the warnings, so heed that feeling if it arises.</p></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- codeforfoods-footer -->
<ins class="adsbygoogle"
     style="display:inline-block;width:728px;height:90px"
     data-ad-client="ca-pub-4773765193389725"
     data-ad-slot="7439101090"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/11/06/7-characteristics-that-separate-a-boss-from-a-leader/">7 Characteristics That Separate a Boss From a Leader</a></h1>
    
    
  



  


<span class="byline author vcard"> * source: <span class="fn">



	<a href="https://www.facebook.com/ArchiDesiign/posts/414950071993587">Internet</a>
	

</span></span>
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-11-06T08:11:12+07:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>6</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>8:11 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>While a leader can be a boss, not every boss is a leader. Although leaders and</p>

<p>While a boss is mostly concerned with outcomes, a leader feels responsible for the process of that outcome and the people who see it out. Check out some major points that distinguish a leader from a boss:</p>

<h4>1. Leaders lead rather than rule.</h4>

<p>Throughout history, the best chiefs headed their troops in fights or campaigns or whatever. The troops were not afraid because their leader was right there with them. Leaders are there to lead the team forward and to move together.</p>

<p><img src="https://fbcdn-sphotos-d-a.akamaihd.net/hphotos-ak-xap1/t31.0-8/s960x960/10750009_414949625326965_7306927192227304603_o.jpg"></p>

<h4>2. Leaders listen and speak rather than command.</h4>

<p>Bosses tend to give orders; they need their employees to listen and to obey. However, leaders always listen to the opinions of their colleagues and regard them as important.</p>

<p><img src="https://scontent-a-sin.xx.fbcdn.net/hphotos-xpa1/v/t1.0-9/1901348_414949695326958_1617544880402520783_n.jpg?oh=f1cd8754b1f4cb16cf53b4270c3087d8&oe=54EDAB49"></p>

<p>Leaders are always ready for advising, discussion and any feedback an employee has to offer. This reciprocity makes any individual employee feel stronger and gives him or her confidence to follow the leader.</p>

<h4>3. Leaders motivate rather than terrify.</h4>

<p>While working on projects, people have their ups and downs. Through this roller coaster, bosses are more likely to intimidate into action while leaders will motivate to action.</p>

<p><img src="https://fbcdn-sphotos-a-a.akamaihd.net/hphotos-ak-xpa1/v/t1.0-9/10734090_414949795326948_3416275930774179251_n.jpg?oh=810fc4bbc2c48acc50901f0ace834780&oe=54D510A4&__gda__=1425216796_844fce8da41177cca8e81b7e8420446f"></p>

<p>One of the best things about leaders is that they offer empathy and prepare a group for the tasks at hand. This is very important, seeing as whenever colleagues are not prepared for certain duties, leaders are there to support, teach and back them up. Leaders know that each employee is on the team for a reason and they have faith in every concerted effort.</p>

<h4>4. Leaders teach and learn rather than expect and ignore.</h4>

<p>A true leader is the person who has self-esteem, but who is not arrogant nor embarrassed to learn from those with lower titles. They know that it is never late to learn more.</p>

<p><img src="https://fbcdn-sphotos-e-a.akamaihd.net/hphotos-ak-xap1/v/t1.0-9/10390082_414949875326940_5418551154960633658_n.jpg?oh=29e60279326157a42885c54f67bd5089&oe=54F60741&__gda__=1423894173_22dbfb4334e5d1b501a5a56f149bd558"></p>

<p>This explains the tendency of leaders to always pay attention to their colleagues, knowing there is always more to learn from them. Moreover, leaders are not only takers, but givers, as well. A good leader is not greedy for sharing knowledge and experience with someone else; instead, the leader teaches and nurtures new professionals.</p>

<h4>5. Leaders take part rather than stay aside.</h4>

<p>While bosses choose to stay aside in the job, leaders take initiative. They watch over the progress of work, make adjustments where necessary and aid team members. They choose to be a part of the team rather than bossing the team around.</p>

<h4>6. Leaders reprimand rather than scold or shout.</h4>

<p>When necessary, a leader offers constructive criticism. However, a leader never scolds or shouts at any individual, especially in public. They do understand that they are dealing with people and no one has right to humiliate others. Rather, the leader talks to the person individually and without any spike in temper.</p>

<p><img src="https://fbcdn-sphotos-e-a.akamaihd.net/hphotos-ak-xaf1/v/t1.0-9/10302103_414949405326987_7411112196686359758_n.jpg?oh=6cf1816ef68d247e18d323ce9e567143&oe=54E9D98C&__gda__=1423805501_e5f258925a4f00bf50521f72097a608f"></p>

<h4>7. Leaders establish equal relationships.</h4>

<p>Anyone who has ever worked on a team knows what it feels like when the manager chooses his favorites and non-favorites. It always causes stress and tension among team members which comprises productivity.</p>

<p><img src="https://fbcdn-sphotos-f-a.akamaihd.net/hphotos-ak-xfp1/v/t1.0-9/10712864_414949598660301_9088054071801414512_n.jpg?oh=fae2d01837a2ae2a3000f50907882919&oe=54D5DB78&__gda__=1424870129_0066f0dd1c3aa8f1ef57f9abef7cba6d"></p>

<p>A good leader tries to treat everyone equally and to not allow personal preferences affect the team dynamic.</p>

<p>During your life, you will face two kinds of managers: leaders and bosses. It does not matter how high the position of these individuals; bossy people are more likely to fail while those who lead will succeed.</p>

<p>Maybe the things I mentioned above do not make any sense for you now, but eventually, you will experience the difference and garner a greater understanding of which manager you prefer for your own professional life.</p>
</div>
  
  


    </article>
  
  
    <article>
      
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- codeforfoods-footer -->
<ins class="adsbygoogle"
     style="display:inline-block;width:728px;height:90px"
     data-ad-client="ca-pub-4773765193389725"
     data-ad-slot="7439101090"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/11/04/api-documentation-made-beautiful-with-apiary-dot-io/">API Documentation Made Beautiful With Apiary.io</a></h1>
    
    
  



  


<span class="byline author vcard"> * source: <span class="fn">



	<a href="http://www.itworld.com/article/2700666/development/api-documentation-made-beautiful-with-apiary-io.html">itworld</a>
	

</span></span>
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-11-04T22:19:17+07:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>4</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>10:19 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h5>Apiary is a free, hosted API documentation repository</h5>

<p>The least exciting part of any software project I work on is the documentation. With APIs in particular, documentation can be time consuming because it needs to provide enough detail for any consumer to understand and interface with it. For that reason, proper documentation of an API is even more crucial.</p>

<p>The most recent two projects I&rsquo;ve been working on both required that full APIs be developed in addition to the core of the platform. On one of them I was building both the API and the client to consume it so the need to describe the API was nil. On the other I&rsquo;m working in tandem with a colleague and need to communicate the API calls and requirements as they&rsquo;re completed. My first attempt at doing so was pretty lame. I typed out the API calls for a particular controller and attached sample requests/responses in text files and emailed them across the room. I&rsquo;m happy to say that was the last time I did that.</p>

<p>As soon as I hit send on that email I knew I was doing something stupid. I asked another colleague about what he had used in the past and he pointed me toward <a href="http://apiary.io">Apiary.io</a>. Apiary is a web based repository for API documentation that also includes server mocking, code samples, automated testing, and GitHub sync. It&rsquo;s free for most needs including both public and private API documentation.</p>

<p>I created a new account in a single click since I was already logged into GitHub and I was off and running creating my API documentation. Once I got the hang of the Markdown related syntax called <a href="http://apiary.io/blueprint">API Blueprint</a>, I was able to quickly document each API resource in far greater detail than I had been previously. I then invited my colleague to the Apiary API project and things became much better for both of us. Now he can simply refresh the page to pick up any new documentation and get full detail and examples of each API resource at will.</p>

<p>What does the resulting documentation look like you might ask? Here&rsquo;s a screenshot but you&rsquo;ll want to head over to <a href="http://docs.themoviedb.apiary.io/">one of the featured APIs</a> to check it out for yourself.</p>

<p><img src="http://images.techhive.com/images/idge/imported/article/itw/2014/02/28/image1-100480198-orig.png"></p>

<p>So far we&rsquo;ve been pretty happy using Apiary. There are some helpful features to the system that can aid your efforts such as reusable request and response models, but it&rsquo;s no silver bullet. Good documentation takes time and it&rsquo;s probably not possible to completely avoid that.</p>

<p>The only real complaint I have with the system so far is that your entire API document is constructed in a single, loooong page. This works OK for reading because things collapse and there is a table of contents, but for editing, it can be a mess. Aside from that it&rsquo;s been a great collaboration and organization tool. It&rsquo;s unlikely that my API would be as well documented as it is in Apiary if I had chosen to write it in some other way.</p>
</div>
  
  


    </article>
  
  
    <article>
      
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- codeforfoods-footer -->
<ins class="adsbygoogle"
     style="display:inline-block;width:728px;height:90px"
     data-ad-client="ca-pub-4773765193389725"
     data-ad-slot="7439101090"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/11/04/cors-on-apache/">CORS on Apache</a></h1>
    
    
  



  



    
      <p class="meta">
        




<time class='entry-date' datetime='2014-11-04T08:32:41+07:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>4</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>8:32 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>To add the CORS authorization to the header using Apache, simply add the following line inside either the <code>&lt;Directory&gt;</code>, <code>&lt;Location&gt;</code>, <code>&lt;Files&gt;</code> or <code>&lt;VirtualHost&gt;</code> sections of your server config (usually located in a *.conf file, such as <code>httpd.conf</code> or <code>apache.conf</code>), or within a <code>.htaccess</code> file:</p>

<pre><code>    Header set Access-Control-Allow-Origin "*"
</code></pre>

<p>To ensure that your changes are correct, it is strongly reccomended that you use</p>

<pre><code>    apachectl -t
</code></pre>

<p>to check your configuration changes for errors. After this passes, you may need to reload Apache to make sure your changes are applied by running the command</p>

<pre><code>    sudo service apache2 reload
</code></pre>

<p>More detail</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>http://enable-cors.org/server_apache.html</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- codeforfoods-footer -->
<ins class="adsbygoogle"
     style="display:inline-block;width:728px;height:90px"
     data-ad-client="ca-pub-4773765193389725"
     data-ad-slot="7439101090"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/11/03/aws-adding-a-note-to-an-elastic-load-balancer/">[Aws] - Adding a Ec2 Node to an Elastic Load Balancer</a></h1>
    
    
  



  



    
      <p class="meta">
        




<time class='entry-date' datetime='2014-11-03T21:42:35+07:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>3</span><span class='date-suffix'>rd</span>, <span class='date-year'>2014</span></span> <span class='time'>9:42 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Installing</h3>

<ul>
<li><p>Install <code>Python</code></p>

<pre><code>          brew install python
</code></pre></li>
<li><p>Install <code>AWS CLI</code> - AWS CLI (<a href="http://aws.amazon.com/cli/">http://aws.amazon.com/cli/</a>) is command line tool for working with Amazon Web Service. In this project, we used it for checking the <code>Elastic Load Balancer</code> (ELB) is existed or not, creating an ELB, adding the <code>Health check</code> for ELB, retrieving the <code>EC2 instance</code> information registering <code>EC2 instances</code> to ELB.</p>

<pre><code>  pip install awscli
</code></pre></li>
<li><p>Create config for aws at ~/.aws/config and add below content</p></li>
</ul>


<figure class='code'><figcaption><span>Config file</span><a href='http://aws.amazon.com/cli/'>link</a></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="o">[</span>profile default<span class="o">]</span>
</span><span class='line'><span class="nv">output</span> <span class="o">=</span> json
</span><span class='line'><span class="nv">region</span> <span class="o">=</span> us-east-1
</span><span class='line'><span class="nv">aws_access_key_id</span> <span class="o">=</span> &lt;access key id&gt;
</span><span class='line'><span class="nv">aws_secret_access_key</span> <span class="o">=</span> &lt;secret access key&gt;
</span></code></pre></td></tr></table></div></figure>


<ul>
<li><p>Install <code>jq</code> <a href="http://xmodulo.com/how-to-parse-json-string-via-command-line-on-linux.html">http://xmodulo.com/how-to-parse-json-string-via-command-line-on-linux.html</a>.</p>

<p>  <code>jq</code> is tool for parser, filter, map, and transform JSON-structured data effortlessly by command-line. We used it for parser the json data which retured form AWS CLI. <a href="/blog/2014/11/03/command-line-json-processor/">Read more on my post</a></p>

<pre><code>  brew install jq 
</code></pre></li>
</ul>


<h3>Coding</h3>

<figure class='code'><figcaption><span>add-node-2-elb.sh</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c">#!/bin/bash</span>
</span><span class='line'><span class="c">#</span>
</span><span class='line'>
</span><span class='line'><span class="c"># ask to add the node to load balancer</span>
</span><span class='line'>
</span><span class='line'><span class="nv">node</span><span class="o">=</span><span class="nv">$1</span><span class="p">;</span>
</span><span class='line'><span class="nv">role</span><span class="o">=</span><span class="nv">$2</span><span class="p">;</span>
</span><span class='line'><span class="nv">env</span><span class="o">=</span><span class="nv">$3</span><span class="p">;</span>
</span><span class='line'><span class="nv">lbName</span><span class="o">=</span><span class="s2">&quot;MyLoadBalancer&quot;</span>
</span><span class='line'><span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;$node&quot;</span> !<span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="o">[</span> <span class="s2">&quot;$role&quot;</span> !<span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
</span><span class='line'>
</span><span class='line'><span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;$role&quot;</span> <span class="o">==</span> <span class="s2">&quot;web&quot;</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
</span><span class='line'>  <span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;$env&quot;</span> <span class="o">==</span> <span class="s2">&quot;prod&quot;</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
</span><span class='line'>      <span class="nv">lbName</span><span class="o">=</span><span class="s2">&quot;MyLoadBalancerProd&quot;</span>
</span><span class='line'>  <span class="k">else</span>
</span><span class='line'>      <span class="nv">lbName</span><span class="o">=</span><span class="s2">&quot;MyLoadBalancerStaging&quot;</span>
</span><span class='line'>  <span class="k">fi</span>   
</span><span class='line'><span class="k">else</span>   
</span><span class='line'>  <span class="nb">printf</span> <span class="s2">&quot;Please enter a valid role (&#39;web&#39;) \n&quot;</span><span class="p">;</span>
</span><span class='line'><span class="k">fi</span> 
</span><span class='line'>
</span><span class='line'><span class="c"># http://docs.aws.amazon.com/cli/latest/reference/elb/describe-load-balancers.html</span>
</span><span class='line'><span class="nv">MyLoadBalancer</span><span class="o">=</span><span class="k">$(</span>
</span><span class='line'>  aws elb describe-load-balancers <span class="se">\</span>
</span><span class='line'>      --load-balancer-name <span class="nv">$lbName</span> <span class="se">\</span>
</span><span class='line'>  <span class="k">)</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="c"># the load balancer is node existed, create the ELB first</span>
</span><span class='line'><span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;$MyLoadBalancer&quot;</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
</span><span class='line'>  
</span><span class='line'>  <span class="c"># http://docs.aws.amazon.com/cli/latest/reference/elb/create-load-balancer.html </span>
</span><span class='line'>  aws elb create-load-balancer <span class="se">\</span>
</span><span class='line'>      --load-balancer-name <span class="nv">$lbName</span> <span class="se">\</span>
</span><span class='line'>      --listeners <span class="nv">Protocol</span><span class="o">=</span>HTTP,LoadBalancerPort<span class="o">=</span>80,InstanceProtocol<span class="o">=</span>HTTP,InstancePort<span class="o">=</span><span class="m">80</span> <span class="se">\</span>
</span><span class='line'>      --availability-zones us-east-1a <span class="se">\</span>
</span><span class='line'>      --security-groups sg-bac6eddf <span class="se">\</span>
</span><span class='line'>
</span><span class='line'>  <span class="c">#http://docs.aws.amazon.com/cli/latest/reference/elb/configure-health-check.html</span>
</span><span class='line'>  aws elb configure-health-check <span class="se">\</span>
</span><span class='line'>      --load-balancer-name <span class="nv">$lbName</span> <span class="se">\</span>
</span><span class='line'>      --health-check <span class="nv">Target</span><span class="o">=</span>HTTP:80/index.php,Interval<span class="o">=</span>30,UnhealthyThreshold<span class="o">=</span>2,HealthyThreshold<span class="o">=</span>2,Timeout<span class="o">=</span>3
</span><span class='line'>
</span><span class='line'><span class="k">else</span>
</span><span class='line'>  <span class="nb">printf</span> <span class="s2">&quot;$MyLoadBalancer\n&quot;</span><span class="p">;</span>
</span><span class='line'><span class="k">fi</span>
</span><span class='line'>
</span><span class='line'><span class="c"># http://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instances.html</span>
</span><span class='line'><span class="c"># http://xmodulo.com/how-to-parse-json-string-via-command-line-on-linux.html</span>
</span><span class='line'><span class="c"># MAC - brew install jq</span>
</span><span class='line'>
</span><span class='line'><span class="nv">nodeId</span><span class="o">=</span><span class="k">$(</span>aws ec2 describe-instances --filters <span class="s2">&quot;Name=ip-address,Values=$node&quot;</span> <span class="p">|</span> jq <span class="s2">&quot;.Reservations[0].Instances[0].InstanceId&quot;</span><span class="k">)</span>
</span><span class='line'><span class="nv">nodeId</span><span class="o">=</span><span class="s2">&quot;${nodeId%\&quot;}&quot;</span><span class="p">;</span>
</span><span class='line'><span class="c"># http://docs.aws.amazon.com/cli/latest/reference/elb/register-instances-with-load-balancer.html</span>
</span><span class='line'>aws elb register-instances-with-load-balancer <span class="se">\</span>
</span><span class='line'>  --load-balancer-name <span class="nv">$lbName</span> <span class="se">\</span>
</span><span class='line'>  --instances <span class="s2">&quot;${nodeId#\&quot;}&quot;</span>
</span><span class='line'><span class="k">else</span>
</span><span class='line'><span class="nb">printf</span> <span class="s2">&quot;Please enter the node and role adding to ELB.\n&quot;</span><span class="p">;</span>
</span><span class='line'><span class="k">fi</span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<h3>Usage</h3>

<pre><code>./add-node-2-elb.sh 123.456.789.910 web staging 
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- codeforfoods-footer -->
<ins class="adsbygoogle"
     style="display:inline-block;width:728px;height:90px"
     data-ad-client="ca-pub-4773765193389725"
     data-ad-slot="7439101090"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/11/03/command-line-json-processor/">Command-line JSON Processor</a></h1>
    
    
  



  



    
      <p class="meta">
        




<time class='entry-date' datetime='2014-11-03T11:23:05+07:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>3</span><span class='date-suffix'>rd</span>, <span class='date-year'>2014</span></span> <span class='time'>11:23 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><code>jq</code> is a command-line JSON processor.</p>

<p>If you want to learn to use jq, read the documentation at <a href="http://stedolan.github.io/jq">http://stedolan.github.io/jq</a>. This documentation is generated from the docs/ folder of this repository. You can also try it online at <a href="http://jqplay.org">http://jqplay.org</a>.</p>

<h3>Basic filters</h3>

<figure class='code'><figcaption><span>Example1</span><a href='http://stedolan.github.io/jq/manual/exemple1'>exemple</a></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>jq <span class="s1">&#39;.&#39;</span>
</span><span class='line'>Input <span class="s2">&quot;Hello, world!&quot;</span>
</span><span class='line'>Output    <span class="s2">&quot;Hello, world!&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<figure class='code'><figcaption><span>Example2</span><a href='http://stedolan.github.io/jq/manual/exemple2'>exemple</a></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>jq <span class="s1">&#39;.foo&#39;</span>
</span><span class='line'>Input <span class="o">{</span><span class="s2">&quot;foo&quot;</span>: 42, <span class="s2">&quot;bar&quot;</span>: <span class="s2">&quot;less interesting data&quot;</span><span class="o">}</span>
</span><span class='line'>Output    42
</span></code></pre></td></tr></table></div></figure>


<h3>More details please check it out from original website</h3>

<figure class='code'><figcaption><span>Original website</span><a href='http://stedolan.github.io/jq/manual'>original website</a></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>http://stedolan.github.io/jq/manual/ 
</span></code></pre></td></tr></table></div></figure>


<p>Next post, I&rsquo;d like to use this for parser the <code>aws</code> result. (coming soon.)</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/2">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/11/27/crystal-getting-started/">Crystal: Getting Started</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/11/19/rails-get-youtube-download-link/">[Rails] Get Youtube Download Link</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/11/18/let-flood-test-your-site-with-flood-dot-io/">Let Flood Test Your Site With Flood.io</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/11/07/php-cooking/">Php-cooking</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/11/06/how-to-switch-careers/">How to Switch Careers</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Your Name -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
